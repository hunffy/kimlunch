select * from U_USER
select * from B_BOARD


insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('admin','권력의힘','12345','관리자','012-3456-7890','admin@kimlunch.com',1,'강남구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test1','테스트1','12345','테스형1','012-3456-7891','test1@kimlunch.com',2,'강동구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test2','테스트2','12345','테스형2','012-3456-7892','test2@kimlunch.com',1,'강북구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test3','테스트3','12345','테스형3','012-3456-7893','test3@kimlunch.com',2,'강서구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test4','테스트4','12345','테스형4','012-3456-7894','test4@kimlunch.com',1,'동대문구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test5','테스트5','12345','테스형5','012-3456-7895','test5@kimlunch.com',2,'노원구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test6','테스트6','12345','테스형6','012-3456-7896','test6@kimlunch.com',2,'관악구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test7','테스트7','12345','테스형7','012-3456-7897','test7@kimlunch.com',1,'광진구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test8','테스트8','12345','테스형8','012-3456-7898','test8@kimlunch.com',2,'구로구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test9','테스트9','12345','테스형9','012-3456-7899','test9@kimlunch.com',1,'금천구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test10','테스트10','12345','테스형10','010-3456-7890','test10@kimlunch.com',1,'노원구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test11','테스트11','12345','테스형11','010-3456-7891','test11@kimlunch.com',1,'도봉구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test12','테스트12','12345','테스형12','010-3456-7892','test12@kimlunch.com',2,'동대문구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test13','테스트13','12345','테스형13','010-3456-7893','test13@kimlunch.com',2,'동작구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test14','테스트14','12345','테스형14','010-3456-7894','test14@kimlunch.com',2,'마포구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test15','테스트15','12345','테스형15','010-3456-7895','test15@kimlunch.com',1,'서대문구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test16','테스트16','12345','테스형16','010-3456-7896','test16@kimlunch.com',1,'서초구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test17','테스트17','12345','테스형17','010-3456-7897','test17@kimlunch.com',2,'성동구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test18','테스트18','12345','테스형18','010-3456-7898','test18@kimlunch.com',2,'성북구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test19','테스트19','12345','테스형19','010-3456-7899','test19@kimlunch.com',2,'송파구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test20','테스트20','12345','테스형20','011-3456-7890','test20@kimlunch.com',1,'양찬구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test21','테스트21','12345','테스형21','011-3456-7891','test21@kimlunch.com',1,'영등포구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test22','테스트22','12345','테스형22','011-3456-7892','test22@kimlunch.com',1,'용산구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test23','테스트23','12345','테스형23','011-3456-7893','test23@kimlunch.com',1,'은평구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test24','테스트24','12345','테스형24','011-3456-7894','test24@kimlunch.com',1,'종로구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test25','테스트25','12345','테스형25','011-3456-7895','test25@kimlunch.com',2,'중구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test26','테스트26','12345','테스형26','011-3456-7896','test26@kimlunch.com',1,'중랑구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test27','테스트27','12345','테스형27','011-3456-7897','test27@kimlunch.com',2,'강남구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test28','테스트28','12345','테스형28','011-3456-7898','test28@kimlunch.com',2,'강동구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test29','테스트29','12345','테스형29','011-3456-7899','test29@kimlunch.com',1,'강북구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test30','테스트30','12345','테스형30','013-3456-7890','test30@kimlunch.com',2,'강서구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test31','테스트31','12345','테스형31','013-3456-7891','test31@kimlunch.com',2,'관악구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test32','테스트32','12345','테스형32','013-3456-7892','test32@kimlunch.com',2,'광진구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test33','테스트33','12345','테스형33','013-3456-7893','test33@kimlunch.com',2,'구로구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test34','테스트34','12345','테스형34','013-3456-7894','test34@kimlunch.com',2,'금천구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test35','테스트35','12345','테스형35','013-3456-7895','test35@kimlunch.com',2,'노원구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test36','테스트36','12345','테스형36','013-3456-7896','test36@kimlunch.com',2,'도봉구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test37','테스트37','12345','테스형37','013-3456-7897','test37@kimlunch.com',1,'동대문구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test38','테스트38','12345','테스형38','013-3456-7898','test38@kimlunch.com',1,'동작구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test39','테스트39','12345','테스형39','013-3456-7899','test39@kimlunch.com',1,'마포구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test40','테스트40','12345','테스형40','014-3456-7890','test40@kimlunch.com',2,'서대문구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test41','테스트41','12345','테스형41','014-3456-7891','test41@kimlunch.com',2,'서초구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test42','테스트42','12345','테스형42','014-3456-7892','test42@kimlunch.com',2,'성동구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test43','테스트43','12345','테스형43','014-3456-7893','test43@kimlunch.com',2,'성북구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test44','테스트44','12345','테스형44','014-3456-7894','test44@kimlunch.com',1,'송파구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test45','테스트45','12345','테스형45','014-3456-7895','test45@kimlunch.com',2,'마포구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test46','테스트46','12345','테스형46','014-3456-7896','test46@kimlunch.com',2,'마포구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test47','테스트47','12345','테스형47','014-3456-7897','test47@kimlunch.com',2,'영등포구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test48','테스트48','12345','테스형48','014-3456-7898','test48@kimlunch.com',2,'용산구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test49','테스트49','12345','테스형49','014-3456-7899','test49@kimlunch.com',1,'강남구');
insert into u_user (userid, nickname, password, name, phoneno, email, gender, address) VALUES ('test50','테스트50','12345','테스형50','015-3456-7890','test50@kimlunch.com',2,'금천구');

insert into b_board (bno, article, subsistence, img, boardid, regdate, ip, readcnt, grade, heart, price, menu, map_a, map_b, pname, paddress, phone, userid)
VALUES (1, '1번글', '내용','1',3,sysdate, '0',0,5,0,8000,'미역국',37.4996327751,126.9789023578,'가게이름','가게주소','02-1234-5678','admin');
insert into b_board (bno, article, subsistence, img, boardid, regdate, ip, readcnt, grade, heart, price, menu, map_a, map_b, pname, paddress, phone, userid)
VALUES (2, '2번글', '내용','1',3,sysdate, '0',0,5,0,8000,'미역국',37.4996327751,126.9789023578,'가게이름','가게주소','02-1234-5678','admin');
insert into b_board (bno, article, subsistence, img, boardid, regdate, ip, readcnt, grade, heart, price, menu, map_a, map_b, pname, paddress, phone, userid)
VALUES (3, '3번글', '내용','1',3,sysdate, '0',0,5,0,8000,'미역국',37.4996327751,126.9789023578,'가게이름','가게주소','02-1234-5678','admin');
insert into b_board (bno, article, subsistence, img, boardid, regdate, ip, readcnt, grade, heart, price, menu, map_a, map_b, pname, paddress, phone, userid)
VALUES (4, '4번글', '내용','1',3,sysdate, '0',0,5,0,8000,'미역국',37.4996327751,126.9789023578,'가게이름','가게주소','02-1234-5678','test1');
insert into b_board (bno, article, subsistence, img, boardid, regdate, ip, readcnt, grade, heart, price, menu, map_a, map_b, pname, paddress, phone, userid)
VALUES (5, '5번글', '내용','1',3,sysdate, '0',0,5,0,8000,'미역국',37.4996327751,126.9789023578,'가게이름','가게주소','02-1234-5678','test1');
insert into b_board (bno, article, subsistence, img, boardid, regdate, ip, readcnt, grade, heart, price, menu, map_a, map_b, pname, paddress, phone, userid)
VALUES (6, '6번글', '내용','1',3,sysdate, '0',0,5,0,8000,'미역국',37.4996327751,126.9789023578,'가게이름','가게주소','02-1234-5678','test1');
insert into b_board (bno, article, subsistence, img, boardid, regdate, ip, readcnt, grade, heart, price, menu, map_a, map_b, pname, paddress, phone, userid)
VALUES (7, '7번글', '내용','1',3,sysdate, '0',0,5,0,8000,'미역국',37.4996327751,126.9789023578,'가게이름','가게주소','02-1234-5678','test2');
insert into b_board (bno, article, subsistence, img, boardid, regdate, ip, readcnt, grade, heart, price, menu, map_a, map_b, pname, paddress, phone, userid)
VALUES (8, '8번글', '내용','1',3,sysdate, '0',0,5,0,8000,'미역국',37.4996327751,126.9789023578,'가게이름','가게주소','02-1234-5678','test2');
insert into b_board (bno, article, subsistence, img, boardid, regdate, ip, readcnt, grade, heart, price, menu, map_a, map_b, pname, paddress, phone, userid)
VALUES (9, '9번글', '내용','1',3,sysdate, '0',0,5,0,8000,'미역국',37.4996327751,126.9789023578,'가게이름','가게주소','02-1234-5678','test2');

insert into c_comment (cno, content, wdate, userid, bno) values (1,'댓글',sysdate,'test3',8);
insert into c_comment (cno, content, wdate, userid, bno) values (2,'댓글',sysdate,'test3',9);
insert into c_comment (cno, content, wdate, userid, bno) values (3,'댓글',sysdate,'test4',8);
insert into c_comment (cno, content, wdate, userid, bno) values (4,'댓글',sysdate,'test4',9);
insert into c_comment (cno, content, wdate, userid, bno) values (5,'댓글',sysdate,'test4',9);
insert into c_comment (cno, content, wdate, userid, bno) values (6,'댓글',sysdate,'test3',9);
insert into c_comment (cno, content, wdate, userid, bno) values (7,'댓글',sysdate,'test3',8);
insert into c_comment (cno, content, wdate, userid, bno) values (8,'댓글',sysdate,'test4',8);
insert into c_comment (cno, content, wdate, userid, bno) values (9,'댓글',sysdate,'test4',8);
insert into c_comment (cno, content, wdate, userid, bno) values (10,'댓글',sysdate,'test4',9);




/* Drop Tables */

DROP TABLE c_comment CASCADE CONSTRAINTS;
DROP TABLE h_hash CASCADE CONSTRAINTS;
DROP TABLE likes CASCADE CONSTRAINTS;
DROP TABLE b_board CASCADE CONSTRAINTS;
DROP TABLE hash_pri CASCADE CONSTRAINTS;
DROP TABLE u_user CASCADE CONSTRAINTS;



/* Create Tables */

-- 게시글
CREATE TABLE b_board
(
	-- 게시물번호
	bno number NOT NULL,
	-- 제목
	article varchar2(100) NOT NULL,
	-- 내용
	subsistence varchar2(4000) NOT NULL,
	-- 이미지
	img varchar2(100),
	-- 게시판종류
	boardid varchar2(8) NOT NULL,
	-- 등록일시
	regdate date,
	-- 작성자 IP
	ip varchar2(20),
	-- 조회수
	readcnt number,
	-- 별점
	grade number NOT NULL,
	-- 좋아요
	heart number,
	-- 가격
	price number,
	-- 메뉴
	menu varchar2(100),
	-- 상호명
	pname varchar2(100),
	-- 주소
	paddress varchar2(100),
	-- 전화번호
	phone varchar2(20),
	-- 지도 위도 : 위도,경도
	map_a number(15,10) NOT NULL,
	-- 지도 경도
	map_b number(15,10) NOT NULL,
	-- 아이디
	userid varchar2(20) NOT NULL,
	PRIMARY KEY (bno)
);

-- 댓글
CREATE TABLE c_comment
(
	-- 댓글의 번호
	cno number NOT NULL,
	-- 댓글의 내용
	content varchar2(300) NOT NULL,
	-- 댓글이 작성된 시간
	wdate date,
	-- 아이디
	userid varchar2(20) NOT NULL,
	-- 게시물번호
	bno number NOT NULL,
	PRIMARY KEY (cno)
);


-- hash테이블
CREATE TABLE hash_pri
(
	-- hash번호
	hno number NOT NULL,
	-- 해쉬값
	hname varchar2(50),
	PRIMARY KEY (hno)
);


-- 등록번호
CREATE TABLE h_hash
(
	-- 등록번호
	seq number NOT NULL,
	-- hash번호
	hno number NOT NULL,
	-- 게시물번호
	bno number NOT NULL,
	-- 아이디
	userid varchar2(20) NOT NULL,
	PRIMARY KEY (seq)
);


-- 좋아요 테이블
CREATE TABLE likes
(
	-- 아이디
	userid varchar2(20) NOT NULL,
	-- 게시물번호
	bno number NOT NULL,
	-- 구분 : 1:즐겨찾기
	-- 2:좋아요
	-- 
	kbn varchar2(8) NOT NULL,
	PRIMARY KEY (userid, bno, kbn)
);


-- 회원정보
CREATE TABLE u_user
(
	-- 아이디
	userid varchar2(20) NOT NULL,
	-- 닉네임
	nickname varchar2(20) NOT NULL UNIQUE,
	-- 비밀번호
	password varchar2(20),
	-- 이름
	name varchar2(20) NOT NULL,
	-- 연락처
	phoneno varchar2(20),
	-- 이메일
	email varchar2(50) NOT NULL UNIQUE,
	-- 성별
	gender number,
	-- 직장
	address varchar2(20) NOT NULL,
	PRIMARY KEY (userid)
);

select * from u_user

/* Create Foreign Keys */

ALTER TABLE c_comment
	ADD FOREIGN KEY (bno)
	REFERENCES b_board (bno)
	ON DELETE CASCADE
;


ALTER TABLE h_hash
	ADD FOREIGN KEY (bno)
	REFERENCES b_board (bno)
	ON DELETE CASCADE
;


ALTER TABLE likes
	ADD FOREIGN KEY (bno)
	REFERENCES b_board (bno)
	ON DELETE CASCADE
;


ALTER TABLE h_hash
	ADD FOREIGN KEY (hno)
	REFERENCES hash_pri (hno)
	ON DELETE CASCADE
;


ALTER TABLE b_board
	ADD FOREIGN KEY (userid)
	REFERENCES u_user (userid)
	ON DELETE CASCADE;


ALTER TABLE c_comment
	ADD FOREIGN KEY (userid)
	REFERENCES u_user (userid)
	ON DELETE CASCADE;


ALTER TABLE h_hash
	ADD FOREIGN KEY (userid)
	REFERENCES u_user (userid)
	ON DELETE CASCADE
;


ALTER TABLE likes
	ADD FOREIGN KEY (userid)
	REFERENCES u_user (userid)
	ON DELETE CASCADE
;


/* Comments */

COMMENT ON TABLE b_board IS '게시글';
COMMENT ON COLUMN b_board.bno IS '게시물번호';
COMMENT ON COLUMN b_board.article IS '제목';
COMMENT ON COLUMN b_board.subsistence IS '내용';
COMMENT ON COLUMN b_board.img IS '이미지';
COMMENT ON COLUMN b_board.boardid IS '게시판종류';
COMMENT ON COLUMN b_board.regdate IS '등록일시';
COMMENT ON COLUMN b_board.ip IS '작성자 IP';
COMMENT ON COLUMN b_board.readcnt IS '조회수';
COMMENT ON COLUMN b_board.grade IS '별점';
COMMENT ON COLUMN b_board.heart IS '좋아요';
COMMENT ON COLUMN b_board.price IS '가격';
COMMENT ON COLUMN b_board.menu IS '메뉴';
COMMENT ON COLUMN b_board.pname IS '상호명';
COMMENT ON COLUMN b_board.paddress IS '주소';
COMMENT ON COLUMN b_board.map_a IS '지도 위도 : 위도,경도';
COMMENT ON COLUMN b_board.map_b IS '지도 경도';
COMMENT ON COLUMN b_board.userid IS '아이디';
COMMENT ON TABLE c_comment IS '댓글';
COMMENT ON COLUMN c_comment.cno IS '댓글의 번호';
COMMENT ON COLUMN c_comment.content IS '댓글의 내용';
COMMENT ON COLUMN c_comment.wdate IS '댓글이 작성된 시간';
COMMENT ON COLUMN c_comment.grp IS '모댓글의 번호';
COMMENT ON COLUMN c_comment.grps IS '동일 모댓글내의 대댓글 순서';
COMMENT ON COLUMN c_comment.grpl IS '모댓글과 답글을 구분';
COMMENT ON COLUMN c_comment.userid IS '아이디';
COMMENT ON COLUMN c_comment.bno IS '게시물번호';
COMMENT ON TABLE hash_pri IS 'hash테이블';
COMMENT ON COLUMN hash_pri.hno IS 'hash번호';
COMMENT ON COLUMN hash_pri.hname IS '해쉬값';
COMMENT ON TABLE h_hash IS '등록번호';
COMMENT ON COLUMN h_hash.seq IS '등록번호';
COMMENT ON COLUMN h_hash.hno IS 'hash번호';
COMMENT ON COLUMN h_hash.bno IS '게시물번호';
COMMENT ON COLUMN h_hash.userid IS '아이디';
COMMENT ON TABLE likes IS '좋아요 테이블';
COMMENT ON COLUMN likes.userid IS '아이디';
COMMENT ON COLUMN likes.bno IS '게시물번호';
COMMENT ON COLUMN likes.kbn IS '구분 : 1:즐겨찾기 2:좋아요';
COMMENT ON TABLE u_user IS '회원정보';
COMMENT ON COLUMN u_user.userid IS '아이디';
COMMENT ON COLUMN u_user.nickname IS '닉네임';
COMMENT ON COLUMN u_user.password IS '비밀번호';
COMMENT ON COLUMN u_user.name IS '이름';
COMMENT ON COLUMN u_user.phoneno IS '연락처';
COMMENT ON COLUMN u_user.email IS '이메일';
COMMENT ON COLUMN u_user.gender IS '성별';
COMMENT ON COLUMN u_user.address IS '직장';